Cria um novo projeto no Replit chamado "IoT Controller" com as seguintes especificaÃ§Ãµes:

---

## ðŸ“¦ Estrutura do Projeto
iot-controller/
â”œâ”€â”€ backend/
â”‚ â”œâ”€â”€ server.js
â”‚ â”œâ”€â”€ package.json
â”‚
â”œâ”€â”€ frontend/
â”‚ â”œâ”€â”€ src/
â”‚ â”‚ â”œâ”€â”€ App.jsx
â”‚ â”‚ â”œâ”€â”€ index.jsx
â”‚ â”œâ”€â”€ package.json
â”‚
â”œâ”€â”€ .replit
â”œâ”€â”€ replit.nix (opcional, se necessÃ¡rio para dependÃªncias)
â”œâ”€â”€ README.md

markdown
Copiar
Editar

---

## ðŸ–¤ Frontend (React.js + TailwindCSS)
- **Framework:** React.js (com Vite para build rÃ¡pido)
- **Estilo:** Dark Mode OLED (background #000000, texto #FFFFFF)
- **Acentos:** Verde (#00FF00) para ON, Vermelho (#FF0000) para OFF, Azul (#00BFFF) para neutros
- **Funcionalidades:**
  1. PÃ¡gina inicial:
     - Lista dispositivos ESPHome detetados automaticamente (Nome, IP, Estado)
     - BotÃ£o â€œAbrir Controloâ€ para cada dispositivo
     - Campo para adicionar dispositivo manualmente por IP
     - BotÃ£o â€œForÃ§ar Scan da Redeâ€ para atualizar lista
  2. PÃ¡gina de controlo individual:
     - Nome + IP + estado online
     - BotÃµes dinÃ¢micos para funÃ§Ãµes do ESPHome (LED ON/OFF, RelÃ©s, etc.)
  3. Toast notifications (sucesso/erro) ao enviar comandos
  4. Responsivo e mobile-friendly

---

## ðŸš€ Backend (Node.js + Express)
- Serve:
  - API REST para o frontend
  - Frontend buildado (em produÃ§Ã£o) na mesma porta
- Descoberta automÃ¡tica de ESPHome:
  - Tenta mDNS (Bonjour) para `_esphomelib._tcp.local.`
  - Fallback: Scan IP (192.168.1.1â€“254) e testa porta 6053
- Comunica com dispositivos ESPHome via API nativa (porta 6053) usando `@esphome/api`
- API Endpoints:
  - `GET /api/devices`: lista dispositivos detetados
  - `POST /api/add-device`: adiciona ESPHome manualmente por IP
  - `POST /api/device/:ip/:action`: envia comando direto ao ESPHome
- Escuta em `0.0.0.0` para ser acessÃ­vel na rede local

---

## âš¡ ConfiguraÃ§Ã£o no Replit
- Instala automaticamente dependÃªncias do backend e frontend com `npm install`
- Builda o frontend (React) com `npm run build`
- Express serve o frontend buildado na mesma porta
- Define no `.replit`:
run = "npm run start"

pgsql
Copiar
Editar

**Scripts npm no package.json (raiz):**
"scripts": {
"start": "node backend/server.js",
"client": "cd frontend && npm run dev",
"build": "cd frontend && npm run build",
"install": "cd frontend && npm install && cd ../backend && npm install"
}

yaml
Copiar
Editar

---

## ðŸ’¥ Resultado esperado
- Projeto corre diretamente no Replit:
  - Abre a URL pÃºblica gerada pelo Replit
  - Lista ESPHome em tempo real
  - Controlo multi-dispositivo direto via API nativa (porta 6053)
- Suporte a redes locais quando o Replit Ã© exposto

---

## ðŸŽ¯ Requisitos tÃ©cnicos
- Node.js >= 18.x
- React.js + Vite + TailwindCSS
- @esphome/api para API ESPHome nativa
- Backend + Frontend juntos num Ãºnico servidor Express
